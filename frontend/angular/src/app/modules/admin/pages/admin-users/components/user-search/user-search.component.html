<div>
  <p>
    <span>{{ 'adminUsers.LBL_Users' | translate }}</span>
  </p>
  
  <div *ngIf="selectedUsers.length > 0" class="selected-users">
    <p>{{ 'adminUsers.LBL_SELECTED_USERS' | translate }}</p>
    <div class="selected-user-info" *ngFor="let user of selectedUsers">
      <div class="selected-user-container">
        <img [src]="user.image_id ? user.image_id : '../../../../../../../assets/img/chica.png'"
          class="user-avatar" />

        <span>{{ user.full_name }}</span>
      
        <button (click)="deselectUser(user)" class="deselect-button">
          <i class="fas fa-times"></i> 
        </button>
      </div>
    </div>
  </div>

  <br>

<button class="button-cargar" *ngIf="nextPageUrl" (click)="loadMore()">Mostrar más</button>

  <div *ngIf="isLoading" class="loading-indicator">
    <span>Cargando...</span>
  </div>

<div class="search-bar">
    <input 
      type="text" 
      [placeholder]= "'adminUsers.searchbarPlaceholder' | translate"
      [(ngModel)]="searchText" 
      (input)="searchUsers()" 
      class="form-control" 
    />
  </div>
  
  <div *ngIf="searchText.length > 0 && filteredUsers.length > 0" class="search-results">
    <ul>
      <li *ngFor="let user of filteredUsers" (click)="selectUser(user)">
        <img [src]="user.image_id ? user.image_id : '../../../../../../../assets/img/chica.png'"
          class="user-avatar" />
        <span>{{ user.full_name }}</span>
        <span *ngIf="isSelected(user)" class="selected-tick">✔</span> 
      </li>
    </ul>
  </div>

  <div *ngIf="filteredUsers.length === 0 && searchText.length > 0" class="no-results">
    <span>{{ 'adminUsers.LBL_NO_USERS' | translate }}</span>
  </div>
</div>
